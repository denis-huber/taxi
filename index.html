<html>

<head>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">
    <style>
        ul {
            columns: 1;
            -webkit-columns: 1;
            -moz-columns: 1;
            font-size: 1.5em;
            padding-left: 2em;
            list-style: none;
        }
        h1 {text-align: center;}
    </style>
    <title>Taxi Kürzel Isarfunk</title>
</head>

<body>
    <main class="container">
        <h1>Taxi Kürzel Isarfunk</h1>
        
        <div x-data="{ selectedOption: 'taxi', 
        options: [ 
        'taxi',
        'flughafen', 
        'auto'
        ]}">
        <div class="w-80 flex pr-3">
            <div class="w-1/2 inline-block relative">
                <select name="my_option" x-model="selectedOption" class="">
                    <template x-for="option in options" :key="option">
                        <option :value="option" x-text="option"></option>
                    </template>
                </select>
            </div>
        </div>
        
        <div x-data="{
            search: '',
            taxi: [
            { id: 'NN ', label: 'Großraumtaxi' },
            { id: 'NK ', label: 'Nicht klingen' },
            { id: 'NR ', label: 'Nicht reingen' },
            { id: 'P  ', label:  'Preismerkmal' },
            { id: 'PF ', label: 'Beim Pförner melden' },
            { id: 'PT ', label: 'Personaltaxi, meist auch Gaststätten' },
            { id: 'RA ', label: 'Reklamationauftrag' },
            { id: 'SIX', label: 'Sixtauftrag' },
            { id: 'T  ', label: 'T-Booker, per Schnellwahl bestellt' },
            { id: 'TY ', label: 'Toyota' },
            { id: 'T1 ', label: 'Abholung Terminal 1' },            
            { id: 'T2 ', label: 'Abholung Terminal 2' }
            ],
            auto: [
            { id: '???', label: 'Später' }
            ],
            flughafen: [
            { id: 'Lufthansa', label: 'LH - Terminal 2' },            
            { id: 'Air France', label: 'AF - Terminal 1 Modul D' },
            { id: 'Turkish Airlines', label: 'TK - Terminal 1 Modul C' }      
            ],
            get filteredItems() {
                if(selectedOption === 'taxi') {
                    return this.taxi.filter(
                    i=> i.id.startsWith(this.search.toUpperCase())
                    )
                }
                if(selectedOption === 'auto') {
                    return this.auto.filter(
                    i=> i.id.startsWith(this.search.toUpperCase())
                    )
                }
                if(selectedOption === 'flughafen') {
                    return this.flughafen.filter(
                    i=> i.id.startsWith(this.search.toUpperCase())
                    )
                }
            }
        }">
        <input x-model="search" style="text-transform: uppercase;" placeholder="Suchen..."><button x-on:click="search = ''">Suche löschen</button>
        <ul>
            <template x-for="item in filteredItems" :key="item.id">
                <li x-text="item.id + ' : ' + item.label"></li>
            </template>
        </ul>
    </div>
</main>

</html>
